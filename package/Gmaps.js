/* Gmaps v0.9.29 - 10/3/2013
   
   Copyright (c) 2013 haas85 - Licensed MIT */
(function(){var a;window.Gmaps={MAPS_KEY:null,CLIENT:null,SIGNATURE:null};a=function(){var a,b,c,d;function e(a,b){if(b==null){b={}}if(typeof google==="undefined"||google===null){throw"Import google maps library"}this.id=(new Date).getTime();if(b.zoom==null){b.zoom=6}if(b.disableDefaultUI==null){b.disableDefaultUI=false}if(b.mapTypeId==null){b.mapTypeId=c("ROAD")}if(b.center==null){b.center=new google.maps.LatLng(40.41,-3.69)}this.map=new google.maps.Map(document.getElementById(a),b);this.elements={markers:{},route:{},polyline:{},polygone:{},geodesic:{}}}e.prototype.center=function(a,b){var c;if(a!=null&&b!=null){c=new google.maps.LatLng(a,b);return this.map.setCenter(c)}else{return this.map.getCenter()}};e.prototype.type=function(a){var b;if(a!=null){b=c(a.toUpperCase());if(b!=null){return this.map.setMapTypeId(b)}else{throw"Invalid map type"}}else{return this.map.getMapTypeId()}};e.prototype.zoom=function(a){if(a!=null){return this.map.setZoom(a)}else{return this.map.getZoom()}};e.prototype.zoomIn=function(){return this.map.setZoom(this.map.zoom+1)};e.prototype.zoomOut=function(){return this.map.setZoom(this.map.zoom-1)};e.prototype.on=function(a,b){return google.maps.event.addListener(this.map,a,b)};e.prototype.off=function(a){return google.maps.event.clearInstanceListeners(this.map,a)};e.prototype.search=function(a,b){if(this.geocoder==null){this.geocoder=new google.maps.Geocoder}return this.geocoder.geocode({address:a},function(a,c){if(c===google.maps.GeocoderStatus.OK){return b.call(b,null,a[0])}else{return b.call(b(c,null))}})};e.prototype.addMarker=function(a,b,c){var e;if(b==null){b={}}if(a.latitude!=null&&a.longitude!=null){a=new google.maps.LatLng(a.latitude,a.longitude)}e=d();b.map=this.map;b.position=a;this.elements.markers[e]=new google.maps.Marker(b);if(c){this.map.setCenter(b.position)}return e};e.prototype.getMarker=function(a){var b,c;if(a!=null){return this.elements.markers[a]}else{c=[];for(b in this.elements.markers){c.push(this.elements.markers[b])}return c}};e.prototype.deleteMarker=function(a){if(this.elements.markers[a]!=null){this.elements.markers[a].setMap(null);return delete this.elements.markers[a]}};e.prototype.addRoute=function(b){return a("route",b,this)};e.prototype.addPolyline=function(b){return a("polyline",b,this)};e.prototype.addPolygon=function(b){return a("polygon",b,this)};e.prototype.addGeodesic=function(b){return a("geodesic",b,this)};a=function(a,b,c){b.setMap(c.map);return c.elements[a]=b};e.prototype.getRoute=function(a){return b("route",a,this)};e.prototype.getPolyline=function(a){return b("polyline",a,this)};e.prototype.getPolygon=function(a){return b("polygon",a,this)};e.prototype.getGeodesic=function(a){return b("geodesic",a,this)};b=function(a,b,c){var d,e;if(b!=null){return c.elements[a][b]}else{e=[];for(d in c.elements[a]){e.push(c.elements[a][d])}return e}};c=function(a){var b;b={HYBRID:google.maps.MapTypeId.HYBRID,ROAD:google.maps.MapTypeId.ROADMAP,SATELLITE:google.maps.MapTypeId.SATELLITE,TERRAIN:google.maps.MapTypeId.TERRAIN};return b[a]};d=function(){return("xxxxxxxx-xxxx-"+(new Date).getTime()+"-xxxxxxxxxxxx").replace(/[xy]/g,function(a){var b,c;b=Math.random()*16|0;c=a==="x"?b:b&3|8;return c.toString(16)}).toUpperCase()};return e}();window.Gmaps.Map=a}).call(this);(function(){var a;a=function(){var a,b;function c(c,d,e,f,g){var h;this.properties=e!=null?e:{};if(f==null){f=[]}this.id=b();this.directionsDisplay=new google.maps.DirectionsRenderer;this.directionsService=new google.maps.DirectionsService;this.path=function(){var a,b,c;c=[];for(a=0,b=f.length;a<b;a++){h=f[a];c.push({location:h})}return c}().concat([]);this.origin={location:c};this.destination={location:d};if(this.properties.optimizeWaypoints==null){this.properties.optimizeWaypoints=true}if(this.properties.travelMode==null){this.properties.travelMode=a("CAR")}if(g!=null){this.calculate(g)}}c.prototype.calculate=function(a){var b=this;this.properties.origin=this.origin.location;this.properties.destination=this.destination.location;this.properties.waypoints=this.path;return this.directionsService.route(this.properties,function(c,d){b.directions=c;if(d===google.maps.DirectionsStatus.OK){if(b.directionsDisplay.getMap()!=null){b.directionsDisplay.setDirections(b.directions)}if(a!=null){return a.call(a,null,b.directions)}}else{if(a!=null){return a.call(a(d,null))}}})};c.prototype.addPoint=function(a,b){if(a.latitude!=null&&a.longitude!=null){a=new google.maps.LatLng(a.latitude,a.longitude)}this.path.push(this.destination);this.destination={location:a};return this.calculate(b)};c.prototype.setMap=function(a){this.directionsDisplay.setMap(a);if(this.directions!=null&&a!=null){return this.directionsDisplay.setDirections(this.directions)}};c.prototype.getStaticPath=function(a,b,c){var d,e,f,g,h,i,j,k;if(a==null){a=0}if(b==null){b=0}if(c==null){c={}}k=this.directions.routes[0].legs[a].steps[b];h="";e=k.path.length<15?1:parseInt(k.path.length/15,10);f=0;while(f<k.path.length){h+="|"+k.path[f].lb+","+k.path[f].mb;f+=e}d=parseInt(k.path.length/2,10);i="";if(c.color!=null){i+="color:"+c.color;delete c.color}else{i+="color:black"}if(c.weight!=null){i+=",weight:"+c.weight;delete c.weight}else{i+=",weight:5"}if(Gmaps.CLIENT!=null){c.client=Gmaps.CLIENT}if(Gmaps.SIGNATURE!=null){c.signature=Gmaps.SIGNATURE}if(c.size==null){c.size="1000x1000"}if(c.zoom==null){c.zoom="15"}j=function(){var a;a=[];for(g in c){a.push(""+g+"="+c[g])}return a}().join("&");return"http://maps.googleapis.com/maps/api/staticmap?center="+k.path[d].lb+","+k.path[d].mb+"&path="+i+h+"&"+j+"&sensor=false"};a=function(a){var b;b={BIKE:google.maps.DirectionsTravelMode.BICYCLING,CAR:google.maps.DirectionsTravelMode.DRIVING,TRANSIT:google.maps.DirectionsTravelMode.TRANSIT,WALK:google.maps.DirectionsTravelMode.WALKING};return b[a]};b=function(){return("xxxxxxxx-xxxx-"+(new Date).getTime()+"-xxxxxxxxxxxx").replace(/[xy]/g,function(a){var b,c;b=Math.random()*16|0;c=a==="x"?b:b&3|8;return c.toString(16)}).toUpperCase()};return c}();window.Gmaps.Route=a}).call(this);(function(){var a,b,c,d,e={}.hasOwnProperty,f=function(a,b){for(var c in b){if(e.call(b,c))a[c]=b[c]}function d(){this.constructor=a}d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a};b=function(){var a;function b(b,c){this.properties=b!=null?b:{};if(c==null){c=[]}this.id=a();this.path=c.concat([]);if(this.properties.strokeColor==null){this.properties.strokeColor="#FF0000"}if(this.properties.strokeOpacity==null){this.properties.strokeOpacity=1}if(this.properties.strokeWeight==null){this.properties.strokeWeight=1}}b.prototype.load=function(){var a;a=new this.type(this.properties);if(this.element!=null){a.setMap(this.element.getMap());this.element.setMap(null)}return this.element=a};b.prototype.addPoint=function(a){if(a.latitude!=null&&a.longitude!=null){a=new google.maps.LatLng(a.latitude,a.longitude)}this.path.push(a);return this.load()};b.prototype.setMap=function(a){return this.element.setMap(a)};a=function(){return("xxxxxxxx-xxxx-"+(new Date).getTime()+"-xxxxxxxxxxxx").replace(/[xy]/g,function(a){var b,c;b=Math.random()*16|0;c=a==="x"?b:b&3|8;return c.toString(16)}).toUpperCase()};return b}();d=function(a){f(b,a);function b(a,c){this.properties=a!=null?a:{};if(c==null){c=[]}b.__super__.constructor.apply(this,arguments);this.type=google.maps.Polyline;this.properties.path=this.path;this.load()}return b}(b);c=function(a){f(b,a);function b(a,c){this.properties=a!=null?a:{};if(c==null){c=[]}b.__super__.constructor.apply(this,arguments);this.type=google.maps.Polygon;this.properties.paths=this.path;if(this.properties.fillColor==null){this.properties.fillColor="#FF0000"}if(this.properties.fillOpacity==null){this.properties.fillOpacity=.35}this.load()}return b}(b);a=function(a){f(b,a);function b(a,c){this.properties=a!=null?a:{};if(c==null){c=[]}this.properties.geodesic=true;b.__super__.constructor.call(this,this.properties,c)}return b}(d);window.Gmaps.Polyline=d;window.Gmaps.Polygon=c;window.Gmaps.Geodesic=a}).call(this);